{"version":3,"file":"static/js/150.7cfb857c.chunk.js","mappings":"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","sources":["webpack://react-complete-guide/./src/components/UI/Form.module.css?6df6","components/UI/Form.js","webpack://react-complete-guide/./src/components/Order/EmptyOrder.module.css?c37b","components/Order/EmptyOrder.js","webpack://react-complete-guide/./src/components/Order/OrderSummary.module.css?af02","components/Order/OrderSummary.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__OlcU0\",\"submit\":\"Form_submit__fiQNd\",\"controlgroup\":\"Form_controlgroup__2z9z4\"};","import { useContext, useState } from \"react\";\r\n\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nimport styles from \"./Form.module.css\";\r\n\r\nconst defaultEnteredValues = {\r\n  firstName: \"\",\r\n  secondName: \"\",\r\n  email: \"\",\r\n  phoneNumber: \"\",\r\n  streetNumber: \"\",\r\n  houseNumber: \"\",\r\n  flatNumber: \"\",\r\n  postalCode: \"\",\r\n};\r\n\r\nconst Form = () => {\r\n  const [enteredValues, setEnteredValues] = useState(defaultEnteredValues);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  async function fetchData() {\r\n    const itemsDetails = [];\r\n\r\n    const items = cartCtx.items.map((item, index) => {\r\n      if (item.extras.length > 0) {\r\n        item.extras.map((extra) => {\r\n          itemsDetails.push({\r\n            productId: item.id,\r\n            ingredientId: extra.ingredientId,\r\n            quantity: extra.amount,\r\n            pizzaId: index,\r\n            amount: extra.amount ? extra.amount * extra.price : 0,\r\n          });\r\n        });\r\n      } else {\r\n        itemsDetails.push({\r\n          productId: item.id,\r\n          ingredientId: 78,\r\n          quantity: item.amount,\r\n          pizzaId: index,\r\n          amount: item.amount * item.price,\r\n        });\r\n      }\r\n    });\r\n\r\n    const enteredDate = {\r\n      customer: enteredValues,\r\n      totalAmount: cartCtx.totalAmount,\r\n      orderDetails: itemsDetails,\r\n    };\r\n    console.log(JSON.stringify(enteredDate));\r\n\r\n    try {\r\n      const result = await fetch(\"https://localhost:44376/api/Orders\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(enteredDate),\r\n      });\r\n\r\n      if (!result.ok) {\r\n        throw new Error();\r\n      }\r\n\r\n      const promiseData = await result.json();\r\n      console.log(promiseData);\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    console.log(enteredValues);\r\n    fetchData();\r\n    setEnteredValues(defaultEnteredValues);\r\n    cartCtx.clearItemsList();\r\n  };\r\n\r\n  const onChangeHandler = (e) => {\r\n    setEnteredValues({ ...enteredValues, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={submitHandler}>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"firstName\"\r\n          type=\"text\"\r\n          placeholder=\"Imię\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"firstName\">Imię</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"secondName\"\r\n          type=\"text\"\r\n          placeholder=\"Nazwisko\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"secondName\">Nazwisko</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Adres e-mail\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"email\">Adres e-mail</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"phoneNumber\"\r\n          type=\"tel\"\r\n          placeholder=\"Telefon\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"phoneNumber\">Telefon</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"streetNumber\"\r\n          type=\"text\"\r\n          placeholder=\"Nazwa ulicy\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"streetNumber\">Nazwa ulicy</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"houseNumber\"\r\n          type=\"text\"\r\n          placeholder=\"Numer budynku\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"houseNumber\">Numer budynku</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"flatNumber\"\r\n          type=\"text\"\r\n          placeholder=\"Numer mieszkania\"\r\n          onChange={onChangeHandler}\r\n        />\r\n        <label forhtml=\"flatNumber\">Numer mieszkania</label>\r\n      </div>\r\n      <div className={styles.controlgroup}>\r\n        <input\r\n          id=\"postalCode\"\r\n          type=\"text\"\r\n          placeholder=\"Kod pocztowy\"\r\n          pattern=\"[0-9]{2}[-][0-9]{3}\"\r\n          onChange={onChangeHandler}\r\n          required\r\n        />\r\n        <label forhtml=\"postalCode\">Kod pocztowy</label>\r\n      </div>\r\n      <div>\r\n        <button className={styles.submit} type=\"submit\">\r\n          Złóż zamówienie\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"emptyorder\":\"EmptyOrder_emptyorder__NHz5G\"};","import { Link } from \"react-router-dom\";\r\nimport { Fragment } from \"react/cjs/react.production.min\";\r\nimport styles from \"./EmptyOrder.module.css\";\r\n\r\nconst EmptyOrder = () => {\r\n  return (\r\n    <Fragment>\r\n      <div className={styles.emptyorder}>\r\n        <p>\r\n          Twój koszyk jest aktualnie pusty.<br/>\r\n          Przejrzyj naszą ofertę aby wybrać coś dla siebie.\r\n        </p>\r\n        <Link to=\"/menu\">Wróć do menu</Link>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EmptyOrder;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"summary\":\"OrderSummary_summary__SmTUe\",\"order\":\"OrderSummary_order__tnPkU\",\"submit\":\"OrderSummary_submit__lL7r+\"};","import { Fragment } from \"react/cjs/react.production.min\";\r\nimport { useContext } from \"react\";\r\n\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nimport Form from \"../UI/Form\";\r\nimport Order from \"./Order\";\r\nimport EmptyOrder from \"./EmptyOrder\";\r\n\r\nimport styles from \"./OrderSummary.module.css\";\r\n\r\nconst OrderSummary = () => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const Summary = () => {\r\n    return (\r\n      <div className={styles.summary}>\r\n        <Form />\r\n        <div className={styles.order}>\r\n        <Order/>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {cartCtx.totalAmount > 0 ? <Summary /> : <EmptyOrder />}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default OrderSummary;\r\n"],"names":["defaultEnteredValues","firstName","secondName","email","phoneNumber","streetNumber","houseNumber","flatNumber","postalCode","useState","enteredValues","setEnteredValues","cartCtx","useContext","CartContext","itemsDetails","items","map","item","index","extras","length","extra","push","productId","id","ingredientId","quantity","amount","pizzaId","price","enteredDate","customer","totalAmount","orderDetails","console","log","JSON","stringify","fetch","method","headers","body","result","ok","Error","json","promiseData","message","onChangeHandler","e","target","value","className","styles","onSubmit","preventDefault","fetchData","clearItemsList","type","placeholder","onChange","required","forhtml","pattern","Fragment","to","Summary","Order"],"sourceRoot":""}