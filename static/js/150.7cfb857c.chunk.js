"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[150],{9150:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n=r(9117),s=r(2791),a=r(9815),i=r(4942),l=r(1413),o=r(5861),d=r(885),u=r(7757),c=r.n(u),m="Form_form__OlcU0",h="Form_submit__fiQNd",p="Form_controlgroup__2z9z4",x=r(184),j={firstName:"",secondName:"",email:"",phoneNumber:"",streetNumber:"",houseNumber:"",flatNumber:"",postalCode:""},f=function(){var e=(0,s.useState)(j),t=(0,d.Z)(e,2),r=t[0],n=t[1],u=(0,s.useContext)(a.Z);function f(){return(f=(0,o.Z)(c().mark((function e(){var t,n,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],u.items.map((function(e,r){e.extras.length>0?e.extras.map((function(n){t.push({productId:e.id,ingredientId:n.ingredientId,quantity:n.amount,pizzaId:r,amount:n.amount?n.amount*n.price:0})})):t.push({productId:e.id,ingredientId:78,quantity:e.amount,pizzaId:r,amount:e.amount*e.price})})),n={customer:r,totalAmount:u.totalAmount,orderDetails:t},console.log(JSON.stringify(n)),e.prev=4,e.next=7,fetch("https://localhost:44376/api/Orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 7:if((s=e.sent).ok){e.next=10;break}throw new Error;case 10:return e.next=12,s.json();case 12:a=e.sent,console.log(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}var N=function(e){n((0,l.Z)((0,l.Z)({},r),{},(0,i.Z)({},e.target.id,e.target.value)))};return(0,x.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),console.log(r),function(){f.apply(this,arguments)}(),n(j),u.clearItemsList()},children:[(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"firstName",type:"text",placeholder:"Imi\u0119",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"firstName",children:"Imi\u0119"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"secondName",type:"text",placeholder:"Nazwisko",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"secondName",children:"Nazwisko"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"email",type:"email",placeholder:"Adres e-mail",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"email",children:"Adres e-mail"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"phoneNumber",type:"tel",placeholder:"Telefon",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"phoneNumber",children:"Telefon"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"streetNumber",type:"text",placeholder:"Nazwa ulicy",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"streetNumber",children:"Nazwa ulicy"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"houseNumber",type:"text",placeholder:"Numer budynku",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"houseNumber",children:"Numer budynku"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"flatNumber",type:"text",placeholder:"Numer mieszkania",onChange:N}),(0,x.jsx)("label",{forhtml:"flatNumber",children:"Numer mieszkania"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("input",{id:"postalCode",type:"text",placeholder:"Kod pocztowy",pattern:"[0-9]{2}[-][0-9]{3}",onChange:N,required:!0}),(0,x.jsx)("label",{forhtml:"postalCode",children:"Kod pocztowy"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:h,type:"submit",children:"Z\u0142\xf3\u017c zam\xf3wienie"})})]})},N=r(6936),b=r(3504),y="EmptyOrder_emptyorder__NHz5G",g=function(){return(0,x.jsx)(n.Fragment,{children:(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("p",{children:["Tw\xf3j koszyk jest aktualnie pusty.",(0,x.jsx)("br",{}),"Przejrzyj nasz\u0105 ofert\u0119 aby wybra\u0107 co\u015b dla siebie."]}),(0,x.jsx)(b.rU,{to:"/menu",children:"Wr\xf3\u0107 do menu"})]})})},v="OrderSummary_summary__SmTUe",_="OrderSummary_order__tnPkU",z=function(){var e=(0,s.useContext)(a.Z),t=function(){return(0,x.jsxs)("div",{className:v,children:[(0,x.jsx)(f,{}),(0,x.jsx)("div",{className:_,children:(0,x.jsx)(N.Z,{})})]})};return(0,x.jsx)(n.Fragment,{children:e.totalAmount>0?(0,x.jsx)(t,{}):(0,x.jsx)(g,{})})}}}]);
//# sourceMappingURL=150.7cfb857c.chunk.js.map